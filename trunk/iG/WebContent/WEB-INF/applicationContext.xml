<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context
		http://www.springframework.org/schema/context/spring-context-2.5.xsd"
		default-lazy-init="true"
		>
 
	<context:annotation-config />
	
	<!-- ========================= RESOURCE DEFINITIONS ========================= -->

		<!-- Configurer that replaces ${...} placeholders with values from a properties file -->
		<!-- (in this case, JDBC-related settings for the dataSource definition below) -->
		<bean id="propertyConfigurer" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="location"><value>/WEB-INF/resources/jdbc.properties</value></property>
		</bean>
		
		<!-- Local DataSource that works in any environment -->
		<!-- Note that DriverManagerDataSource does not pool; it is not intended for production -->
	<!-- ···························· -->  
     <!-- Configuracion del datasource -->  
     <!-- ···························· -->  
		
		<bean id="dataSource" 
				class="org.springframework.jdbc.datasource.DriverManagerDataSource"
				destroy-method="close">
			<property name="driverClassName"><value>${jdbc.driverClassName}</value></property>
			<property name="url"><value>${jdbc.url}</value></property>
			<property name="username"><value>${jdbc.username}</value></property>
			<property name="password"><value>${jdbc.password}</value></property>		
		</bean>
			
	
	<!-- 
    <bean id="dataSource"  
         class="org.apache.commons.dbcp.BasicDataSource"  
         destroy-method="close">  
         <property name="driverClassName">  
             <value>com.mysql.jdbc.Driver</value>  
         </property>  
         <property name="url">  
             <value>jdbc:mysql://localhost:3306/ingresosgastos</value>  
         </property>  
         <property name="username">  
             <value>ingresosgastos</value>  
         </property>
         <property name="password">  
             <value>888888</value>  
         </property>  
     </bean>  
   -->
     <!-- ·························· -->  
     <!-- Configuracion de hibernate -->  
     <!-- ·························· -->  
   
     <bean id="sessionFactory"  
         class="org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean">  
         <property name="dataSource">  
             <ref bean="dataSource" />  
         </property>  
         <property name="hibernateProperties">  
             <props>  
                 <prop key="hibernate.dialect">  
                     org.hibernate.dialect.MySQLDialect  
                 </prop> 
                 <prop key="hibernate.show_sql">true</prop>
       			 <prop key="hibernate.cglib.use_reflection_optimizer">true</prop>
       			 <prop key="hibernate.cache.provider_class">net.sf.hibernate.cache.HashtableCacheProvider</prop>
                 
                 
             </props>  
         </property>  
         <property name="annotatedClasses">  
             <list>  
                 <value>  
                     es.antonio.duarte.IngresosGastos.IngresosGastos 
                 </value>  
             </list>  
         </property>
     </bean>  
     
     <!-- ······················································ -->  
     <!-- Definicion de los DAO a utilizar por la aplicacion     -->  
     <!-- ······················································ -->  
   
   <!-- 
     <bean id="ingresosGastosDao"  
         class="es.antonio.duarte.IngresosGastos.dao.SpringHibernateDao">  
         <property name="sessionFactory" ref="sessionFactory" />  
     </bean>  
   
     <bean id="workerDao"  
         class="com.autentia.springhb.dao.impl.hbspring.HbSpringWorkerDaoImpl">  
         <property name="sessionFactory" ref="sessionFactory" />  
     </bean>  
   	-->
   
    <!-- Add new Managers here -->
	     <bean id="transactionManager"  
	         class="org.springframework.orm.hibernate3.HibernateTransactionManager">  
	         <property name="sessionFactory" ref="sessionFactory" />  
	     </bean>  
     
			
</beans>

